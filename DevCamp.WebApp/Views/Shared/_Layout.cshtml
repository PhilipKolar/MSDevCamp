<!DOCTYPE html>
<html lang="en-us" @{if (ViewBag.Title == "Home") { <text> class="home" </text> }}>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>City Power &amp; Light - @ViewBag.Title</title>

    <!-- CSS -->
    <link rel="stylesheet" href="//ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css">
    @Styles.Render("~/Content/css")

</head>
<body>

    <!-- Top Navigation -->
    <nav class="navbar navbar-default">

        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                @Html.ActionLink("Outages", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li>@Html.ActionLink("Dashboard", "Index", "Dashboard")</li>
                    <li>@Html.ActionLink("Report Outage", "Create", "Incident")</li>
                </ul>

                <!-- Top Navigation Right -->
                <ul class="nav navbar-nav navbar-right">
                    @Html.Partial("_LoginPartial")
                </ul>
            </div>
        </div>
    </nav>

    <!-- Body -->
    @RenderBody()

    <!-- JavaScript -->
    <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.js"></script>
    <script src="//ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.js"></script>

    <script type="text/javascript">
        var appInsights = window.appInsights ||
            function (a) {
                function b(a) {
                    c[a] = function () {
                        var b = arguments;
                        c.queue.push(function () {
                            c[a].apply(c, b)
                        })
                    }
                }
                var c = { config: a }, d = document, e = window;
                setTimeout(function () {
                    var b = d.createElement("script");
                    b.src = a.url || "https://az416426.vo.msecnd.net/scripts/a/ai.0.js", d.getElementsByTagName("script")[0].parentNode.appendChild(b)
                });
                try {
                    c.cookie = d.cookie
                    } catch (a) { }
                c.queue = [];
                for (var f = ["Event", "Exception", "Metric", "PageView", "Trace", "Dependency"]; f.length;)
                    b("track" + f.pop()); 
                if (b("setAuthenticatedUserContext"), b("clearAuthenticatedUserContext"), b("startTrackEvent"), b("stopTrackEvent"), b("startTrackPage"), b("stopTrackPage"), b("flush"), !a.disableExceptionTracking) {
                    f = "onerror", b("_" + f);
                    var g = e[f];
                    e[f] = function (a, b, d, e, h) {
                        var i = g && g(a, b, d, e, h);
                        return !0 !== i && c["_" + f](a, b, d, e, h), i
                    }
                } return c
            }({ instrumentationKey: "@DevCamp.WebApp.Utils.Settings.APPINSIGHTS_KEY" });
        window.appInsights = appInsights, appInsights.queue && 0 === appInsights.queue.length && appInsights.trackPageView();
    </script>
</body>
</html>
